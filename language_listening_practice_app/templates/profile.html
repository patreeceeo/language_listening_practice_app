{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block content %}
<h1 class="text-2xl text-gray-700 mb-4">Profile</h1>

<h2 class="text-xl text-gray-600 mb-2">Username: {{ user.username }}</h2>
<h2 class="text-xl text-gray-600 mb-6">Email: {{ user.email }}</h2>

<h3 class="text-lg text-gray-700 mb-4">Exercise Attempts:</h3>
<ul class="space-y-4">
{% for attempt in attempts %}
<!-- show exercise.type and timestamp, is_correct determines bg color -->
<li class="p-4 border border-gray-300 rounded-lg {% if attempt.is_correct %} bg-green-200 {% else %} bg-red-200 {% endif %}">
    <p class="text-gray-800"><strong>Exercise Type:</strong> {{ attempt.exercise.type }}</p>
    <p class="text-gray-600 text-sm"><strong>Attempted on:</strong> {{ attempt.timestamp|date:"F j, Y, g:i a" }}</p>
  </li>
{% endfor %}
</ul>

{% if not attempts %}
<p class="text-gray-600">You haven't attempted any exercises yet. Start practicing to see your attempts here!</p>
{% endif %}

<div class="mt-6">
  <a href="/practice/" class="<button> mt-6 bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition">Start Practicing</a>

  <form action="/accounts/logout/" method="post" class="inline">
    {% csrf_token %}
    <button type="submit" class="ml-4 bg-red-600 text-white py-4 px-6 rounded-lg hover:bg-red-700 transition">Logout</button>
  </form>
</div>

{% endblock %}

