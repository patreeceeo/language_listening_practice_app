<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ lesson_title }} - Exercise {{ exercise_number }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white">
    <div class="max-w-3xl mx-auto px-4 py-8">
        <!-- Header -->
        <div class="mb-6">
            <p class="text-sm text-gray-600 mb-2">lesson {{ lesson_number }}</p>
            <h1 class="text-2xl text-gray-700 mb-4">{{ lesson_title }}</h1>

            <!-- Progress bar -->
            <div class="w-full bg-gray-200 h-6 rounded">
                <div class="bg-gray-600 h-6 rounded" style="width: {{ progress_percentage }}%"></div>
            </div>
            <p class="text-right text-sm text-gray-600 mt-1">{{ exercise_number }}/{{ total_exercises }}</p>
        </div>

        <!-- Exercise Title -->
        <h2 class="text-3xl text-gray-800 mb-8">{{ exercise_number }}: {{ exercise_title }} {% if is_new %}(new){% endif %}</h2>

        <!-- YouTube Video -->
        <div class="mb-6">
            <div class="aspect-video w-full">
                <iframe
                    class="w-full h-full rounded-lg shadow-lg"
                    src="{{ video_url }}"
                    title="YouTube video player"
                    frameborder="0"
                    allow="autoplay"
                    referrerpolicy="strict-origin-when-cross-origin"
                    allowfullscreen>
                </iframe>
            </div>
        </div>

        <!-- Buttons -->
        <div class="space-y-4">
            <!-- Record Yourself Button -->
            <button class="w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-lg hover:bg-gray-50 transition flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"/>
                    <path d="M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"/>
                </svg>
                Record Yourself
            </button>

            <!-- Play Recording Button -->
            <button class="w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-lg hover:bg-gray-50 transition flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"/>
                </svg>
                Play Recording
            </button>

            <!-- Next Button -->
            <button class="w-full bg-white border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-lg hover:bg-gray-50 transition">
                Next
            </button>
        </div>
    </div>
</body>
</html>
